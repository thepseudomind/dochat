{"id":"../node_modules/react-scroll-to-bottom/lib/EventSpy.js","dependencies":[{"name":"/Users/kenny/dochat/package.json","includedInParent":true,"mtime":1585906457517},{"name":"/Users/kenny/dochat/.babelrc","includedInParent":true,"mtime":1585328780539},{"name":"/Users/kenny/dochat/node_modules/react-scroll-to-bottom/package.json","includedInParent":true,"mtime":1585907404977},{"name":"react","loc":{"line":8,"column":44},"parent":"/Users/kenny/dochat/node_modules/react-scroll-to-bottom/lib/EventSpy.js","resolved":"/Users/kenny/dochat/node_modules/react/index.js"},{"name":"./debounce","loc":{"line":10,"column":47},"parent":"/Users/kenny/dochat/node_modules/react-scroll-to-bottom/lib/EventSpy.js","resolved":"/Users/kenny/dochat/node_modules/react-scroll-to-bottom/lib/debounce.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _debounce = _interopRequireDefault(require(\"./debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nvar EventSpy =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EventSpy, _React$Component);\n\n  function EventSpy(props, context) {\n    var _this;\n\n    _classCallCheck(this, EventSpy);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EventSpy).call(this, props, context));\n\n    _this.createDebouncer();\n\n    _this.handleEvent = _this.handleEvent.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(EventSpy, [{\n    key: \"createDebouncer\",\n    value: function createDebouncer() {\n      var _this2 = this;\n\n      this.debouncer = (0, _debounce.default)(function (event) {\n        _this2.props.onEvent && _this2.props.onEvent(event);\n      }, this.props.debounce);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var target = this.props.target;\n\n      if (target) {\n        target.addEventListener(this.props.name, this.handleEvent, {\n          passive: true\n        });\n        this.handleEvent({\n          target: target,\n          type: this.props.name\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevName = prevProps.name,\n          prevTarget = prevProps.target;\n      var _this$props = this.props,\n          name = _this$props.name,\n          target = _this$props.target;\n\n      if (target !== prevTarget || name !== prevName) {\n        if (prevTarget) {\n          prevTarget.removeEventListener(prevName, this.handleEvent);\n        }\n\n        if (target) {\n          target.addEventListener(name, this.handleEvent, {\n            passive: true\n          });\n          this.handleEvent({\n            target: target,\n            type: this.props.name\n          });\n        }\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var target = this.props.target;\n      target && target.removeEventListener(this.props.name, this.handleEvent);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(_ref) {\n      var nextDebounce = _ref.debounce;\n\n      if (this.props.debounce !== nextDebounce) {\n        this.createDebouncer();\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      event.timeStampLow = Date.now();\n      this.debouncer(event);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return false;\n    }\n  }]);\n\n  return EventSpy;\n}(_react.default.Component);\n\nexports.default = EventSpy;\nEventSpy.defaultProps = {\n  debounce: 200\n};\n"},"sourceMaps":{"js":{"version":3,"sources":["../src/EventSpy.js"],"names":["EventSpy","props","context","createDebouncer","handleEvent","bind","debouncer","event","onEvent","debounce","target","addEventListener","name","passive","type","prevProps","prevName","prevTarget","removeEventListener","nextDebounce","timeStampLow","Date","now","React","Component","defaultProps"],"mappings":";;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;IAEqBA,Q;;;;;AACnB,oBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,kFAAMD,KAAN,EAAaC,OAAb;;AAEA,UAAKC,eAAL;;AAEA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBC,IAAjB,uDAAnB;AAL0B;AAM3B;;;;sCAEiB;AAAA;;AAChB,WAAKC,SAAL,GAAiB,uBAAS,UAAAC,KAAK,EAAI;AACjC,QAAA,MAAI,CAACN,KAAL,CAAWO,OAAX,IAAsB,MAAI,CAACP,KAAL,CAAWO,OAAX,CAAmBD,KAAnB,CAAtB;AACD,OAFgB,EAEd,KAAKN,KAAL,CAAWQ,QAFG,CAAjB;AAGD;;;wCAEmB;AAAA,UACVC,MADU,GACC,KAAKT,KADN,CACVS,MADU;;AAGlB,UAAIA,MAAJ,EAAY;AACVA,QAAAA,MAAM,CAACC,gBAAP,CAAwB,KAAKV,KAAL,CAAWW,IAAnC,EAAyC,KAAKR,WAA9C,EAA2D;AAAES,UAAAA,OAAO,EAAE;AAAX,SAA3D;AACA,aAAKT,WAAL,CAAiB;AAAEM,UAAAA,MAAM,EAANA,MAAF;AAAUI,UAAAA,IAAI,EAAE,KAAKb,KAAL,CAAWW;AAA3B,SAAjB;AACD;AACF;;;uCAEkBG,S,EAAW;AAAA,UACdC,QADc,GACmBD,SADnB,CACpBH,IADoB;AAAA,UACIK,UADJ,GACmBF,SADnB,CACJL,MADI;AAAA,wBAEH,KAAKT,KAFF;AAAA,UAEpBW,IAFoB,eAEpBA,IAFoB;AAAA,UAEdF,MAFc,eAEdA,MAFc;;AAI5B,UACEA,MAAM,KAAKO,UAAX,IACGL,IAAI,KAAKI,QAFd,EAGE;AACA,YAAIC,UAAJ,EAAgB;AACdA,UAAAA,UAAU,CAACC,mBAAX,CAA+BF,QAA/B,EAAyC,KAAKZ,WAA9C;AACD;;AAED,YAAIM,MAAJ,EAAY;AACVA,UAAAA,MAAM,CAACC,gBAAP,CAAwBC,IAAxB,EAA8B,KAAKR,WAAnC,EAAgD;AAAES,YAAAA,OAAO,EAAE;AAAX,WAAhD;AACA,eAAKT,WAAL,CAAiB;AAAEM,YAAAA,MAAM,EAANA,MAAF;AAAUI,YAAAA,IAAI,EAAE,KAAKb,KAAL,CAAWW;AAA3B,WAAjB;AACD;AACF;AACF;;;2CAEsB;AAAA,UACbF,MADa,GACF,KAAKT,KADH,CACbS,MADa;AAGrBA,MAAAA,MAAM,IAAIA,MAAM,CAACQ,mBAAP,CAA2B,KAAKjB,KAAL,CAAWW,IAAtC,EAA4C,KAAKR,WAAjD,CAAV;AACD;;;oDAEqD;AAAA,UAAhBe,YAAgB,QAA1BV,QAA0B;;AACpD,UAAI,KAAKR,KAAL,CAAWQ,QAAX,KAAwBU,YAA5B,EAA0C;AACxC,aAAKhB,eAAL;AACD;AACF;;;gCAEWI,K,EAAO;AACjBA,MAAAA,KAAK,CAACa,YAAN,GAAqBC,IAAI,CAACC,GAAL,EAArB;AAEA,WAAKhB,SAAL,CAAeC,KAAf;AACD;;;6BAEQ;AACP,aAAO,KAAP;AACD;;;;EA/DmCgB,eAAMC,S;;;AAkE5CxB,QAAQ,CAACyB,YAAT,GAAwB;AACtBhB,EAAAA,QAAQ,EAAE;AADY,CAAxB","sourcesContent":["import React from 'react';\n\nimport debounce from './debounce';\n\nexport default class EventSpy extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.createDebouncer();\n\n    this.handleEvent = this.handleEvent.bind(this);\n  }\n\n  createDebouncer() {\n    this.debouncer = debounce(event => {\n      this.props.onEvent && this.props.onEvent(event);\n    }, this.props.debounce);\n  }\n\n  componentDidMount() {\n    const { target } = this.props;\n\n    if (target) {\n      target.addEventListener(this.props.name, this.handleEvent, { passive: true });\n      this.handleEvent({ target, type: this.props.name });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { name: prevName, target: prevTarget } = prevProps;\n    const { name, target } = this.props;\n\n    if (\n      target !== prevTarget\n      || name !== prevName\n    ) {\n      if (prevTarget) {\n        prevTarget.removeEventListener(prevName, this.handleEvent);\n      }\n\n      if (target) {\n        target.addEventListener(name, this.handleEvent, { passive: true });\n        this.handleEvent({ target, type: this.props.name });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { target } = this.props;\n\n    target && target.removeEventListener(this.props.name, this.handleEvent);\n  }\n\n  componentWillReceiveProps({ debounce: nextDebounce }) {\n    if (this.props.debounce !== nextDebounce) {\n      this.createDebouncer();\n    }\n  }\n\n  handleEvent(event) {\n    event.timeStampLow = Date.now();\n\n    this.debouncer(event);\n  }\n\n  render() {\n    return false;\n  }\n}\n\nEventSpy.defaultProps = {\n  debounce: 200\n};\n"]}},"error":null,"hash":"1612df746742efd0ef54eeaa3d4c8ad0","cacheData":{"env":{}}}